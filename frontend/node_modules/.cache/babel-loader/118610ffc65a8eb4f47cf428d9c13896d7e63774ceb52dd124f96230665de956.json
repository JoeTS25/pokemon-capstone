{"ast":null,"code":"import axios from \"axios\";\nimport User from \"../../../backend/models/user\";\nconst BASE_URL = \"http://localhost:4000\";\nclass UserApi {\n  static async request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = {\n      Authorization: `Bearer ${UserApi.token}`\n    };\n    const params = method === \"get\" ? data : {};\n    try {\n      return (await axios({\n        url,\n        method,\n        data,\n        params,\n        headers\n      })).data;\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  //signup\n\n  static async signup(data) {\n    let res = await this.request(`auth/register`, data, \"post\");\n    return res.token;\n  }\n\n  //login\n  static async login(data) {\n    let res = await this.request(`auth/token`, data, \"post\");\n    return res.token;\n  }\n}\nexport default UserApi;","map":{"version":3,"names":["axios","User","BASE_URL","UserApi","request","endpoint","data","method","console","debug","url","headers","Authorization","token","params","err","error","response","message","Array","isArray","signup","res","login"],"sources":["/Users/joescibilia/Desktop/poke-attempts/best-poke/simple-poke/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\nimport User from \"../../../backend/models/user\";\n\nconst BASE_URL = \"http://localhost:4000\";\n\nclass UserApi {\n    static token;\n\n    static async request(endpoint, data = {}, method = \"get\") {\n        console.debug(\"API Call:\", endpoint, data, method);\n\n        const url = `${BASE_URL}/${endpoint}`;\n        const headers = { Authorization: `Bearer ${UserApi.token}`};\n        const params = (method === \"get\")\n            ? data\n            : {};\n        try {\n            return (await axios({ url, method, data, params, headers })).data;\n        } catch (err) {\n            console.error(\"API Error:\", err.response);\n            let message = err.response.data.error.message;\n            throw Array.isArray(message) ? message : [message];\n        }\n    }\n\n    //signup\n\n    static async signup(data) {\n        let res = await this.request(`auth/register`, data, \"post\")\n        return res.token;\n    }\n\n    //login\n    static async login(data) {\n        let res = await this.request(`auth/token`, data, \"post\");\n        return res.token;\n    }\n}\n\nexport default UserApi;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,8BAA8B;AAE/C,MAAMC,QAAQ,GAAG,uBAAuB;AAExC,MAAMC,OAAO,CAAC;EAGV,aAAaC,OAAOA,CAACC,QAAQ,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAEC,MAAM,GAAG,KAAK,EAAE;IACtDC,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEJ,QAAQ,EAAEC,IAAI,EAAEC,MAAM,CAAC;IAElD,MAAMG,GAAG,GAAG,GAAGR,QAAQ,IAAIG,QAAQ,EAAE;IACrC,MAAMM,OAAO,GAAG;MAAEC,aAAa,EAAE,UAAUT,OAAO,CAACU,KAAK;IAAE,CAAC;IAC3D,MAAMC,MAAM,GAAIP,MAAM,KAAK,KAAK,GAC1BD,IAAI,GACJ,CAAC,CAAC;IACR,IAAI;MACA,OAAO,CAAC,MAAMN,KAAK,CAAC;QAAEU,GAAG;QAAEH,MAAM;QAAED,IAAI;QAAEQ,MAAM;QAAEH;MAAQ,CAAC,CAAC,EAAEL,IAAI;IACrE,CAAC,CAAC,OAAOS,GAAG,EAAE;MACVP,OAAO,CAACQ,KAAK,CAAC,YAAY,EAAED,GAAG,CAACE,QAAQ,CAAC;MACzC,IAAIC,OAAO,GAAGH,GAAG,CAACE,QAAQ,CAACX,IAAI,CAACU,KAAK,CAACE,OAAO;MAC7C,MAAMC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,GAAGA,OAAO,GAAG,CAACA,OAAO,CAAC;IACtD;EACJ;;EAEA;;EAEA,aAAaG,MAAMA,CAACf,IAAI,EAAE;IACtB,IAAIgB,GAAG,GAAG,MAAM,IAAI,CAAClB,OAAO,CAAC,eAAe,EAAEE,IAAI,EAAE,MAAM,CAAC;IAC3D,OAAOgB,GAAG,CAACT,KAAK;EACpB;;EAEA;EACA,aAAaU,KAAKA,CAACjB,IAAI,EAAE;IACrB,IAAIgB,GAAG,GAAG,MAAM,IAAI,CAAClB,OAAO,CAAC,YAAY,EAAEE,IAAI,EAAE,MAAM,CAAC;IACxD,OAAOgB,GAAG,CAACT,KAAK;EACpB;AACJ;AAEA,eAAeV,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}