{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:4000\";\nclass PokeApi {\n  static async request(endpoint, data = {}, method = \"get\") {\n    console.log(\"API Call:\", endpoint, data, method);\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = {\n      Authorization: `Bearer ${PokeApi.token}`\n    };\n    const params = method === 'get' ? data : {};\n    let testThis;\n    try {\n      letThis = await axios({\n        url,\n        method,\n        data,\n        params,\n        headers\n      });\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.error.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n    console.log(testThis);\n    return testThis.data;\n  }\n\n  //Individual API routes\n  /* Auth Routes */\n\n  /* Login token */\n  static async login(data) {\n    let res = await this.request(`auth/token`, data, 'post');\n    return res.token;\n  }\n\n  /* Sign Up */\n  static async signup(data) {\n    let res = await this.request('auth/register', data, \"post\");\n    return res.token;\n  }\n\n  /* Save user profile page */\n  static async saveProfile(username, data) {\n    let res = await this.request(`users/${username}`, data, \"patch\");\n    return res.user;\n  }\n\n  /* User Routes */\n\n  /* Get the current user */\n  static async getCurrentUser(username) {\n    let res = await this.request(`users/${username}`);\n    return res.user;\n  }\n}\nexport default PokeApi;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_BASE_URL","PokeApi","request","endpoint","data","method","console","log","url","headers","Authorization","token","params","testThis","letThis","err","error","response","message","Array","isArray","login","res","signup","saveProfile","username","user","getCurrentUser"],"sources":["/Users/joescibilia/Desktop/poke-attempts/best-poke/poket2/simple-poke copy/src/api/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:4000\";\n\nclass PokeApi {\n    static token;\n\n    static async request(endpoint, data = {}, method = \"get\") {\n        console.log(\"API Call:\", endpoint, data, method);\n\n        const url = `${BASE_URL}/${endpoint}`;\n        const headers = { Authorization: `Bearer ${PokeApi.token}`};\n        const params = (method === 'get') ? data : {};\n        let testThis;\n        try {\n          letThis = await axios({ url, method, data, params, headers });\n    \n        } catch (err) {\n            console.error(\"API Error:\", err.response);\n            let message = err.response.data.error.message;\n            throw Array.isArray(message) ? message : [message];\n        }\n        console.log(testThis);\n        return testThis.data\n    }\n\n    //Individual API routes\n    /* Auth Routes */\n\n    /* Login token */\n    static async login(data) {\n        let res = await this.request(`auth/token`, data, 'post');\n        return res.token;\n    }\n\n    /* Sign Up */\n    static async signup(data) {\n        let res = await this.request('auth/register', data, \"post\");\n        return res.token;\n    }\n\n    /* Save user profile page */\n    static async saveProfile(username, data) {\n        let res = await this.request(`users/${username}`, data, \"patch\");\n        return res.user;\n    }\n\n    /* User Routes */\n\n    /* Get the current user */\n    static async getCurrentUser(username) {\n        let res = await this.request(`users/${username}`);\n        return res.user;\n    }\n}\n\nexport default PokeApi;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,uBAAuB;AAE1E,MAAMC,OAAO,CAAC;EAGV,aAAaC,OAAOA,CAACC,QAAQ,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAEC,MAAM,GAAG,KAAK,EAAE;IACtDC,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEJ,QAAQ,EAAEC,IAAI,EAAEC,MAAM,CAAC;IAEhD,MAAMG,GAAG,GAAG,GAAGX,QAAQ,IAAIM,QAAQ,EAAE;IACrC,MAAMM,OAAO,GAAG;MAAEC,aAAa,EAAE,UAAUT,OAAO,CAACU,KAAK;IAAE,CAAC;IAC3D,MAAMC,MAAM,GAAIP,MAAM,KAAK,KAAK,GAAID,IAAI,GAAG,CAAC,CAAC;IAC7C,IAAIS,QAAQ;IACZ,IAAI;MACFC,OAAO,GAAG,MAAMlB,KAAK,CAAC;QAAEY,GAAG;QAAEH,MAAM;QAAED,IAAI;QAAEQ,MAAM;QAAEH;MAAQ,CAAC,CAAC;IAE/D,CAAC,CAAC,OAAOM,GAAG,EAAE;MACVT,OAAO,CAACU,KAAK,CAAC,YAAY,EAAED,GAAG,CAACE,QAAQ,CAAC;MACzC,IAAIC,OAAO,GAAGH,GAAG,CAACE,QAAQ,CAACb,IAAI,CAACY,KAAK,CAACE,OAAO;MAC7C,MAAMC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,GAAGA,OAAO,GAAG,CAACA,OAAO,CAAC;IACtD;IACAZ,OAAO,CAACC,GAAG,CAACM,QAAQ,CAAC;IACrB,OAAOA,QAAQ,CAACT,IAAI;EACxB;;EAEA;EACA;;EAEA;EACA,aAAaiB,KAAKA,CAACjB,IAAI,EAAE;IACrB,IAAIkB,GAAG,GAAG,MAAM,IAAI,CAACpB,OAAO,CAAC,YAAY,EAAEE,IAAI,EAAE,MAAM,CAAC;IACxD,OAAOkB,GAAG,CAACX,KAAK;EACpB;;EAEA;EACA,aAAaY,MAAMA,CAACnB,IAAI,EAAE;IACtB,IAAIkB,GAAG,GAAG,MAAM,IAAI,CAACpB,OAAO,CAAC,eAAe,EAAEE,IAAI,EAAE,MAAM,CAAC;IAC3D,OAAOkB,GAAG,CAACX,KAAK;EACpB;;EAEA;EACA,aAAaa,WAAWA,CAACC,QAAQ,EAAErB,IAAI,EAAE;IACrC,IAAIkB,GAAG,GAAG,MAAM,IAAI,CAACpB,OAAO,CAAC,SAASuB,QAAQ,EAAE,EAAErB,IAAI,EAAE,OAAO,CAAC;IAChE,OAAOkB,GAAG,CAACI,IAAI;EACnB;;EAEA;;EAEA;EACA,aAAaC,cAAcA,CAACF,QAAQ,EAAE;IAClC,IAAIH,GAAG,GAAG,MAAM,IAAI,CAACpB,OAAO,CAAC,SAASuB,QAAQ,EAAE,CAAC;IACjD,OAAOH,GAAG,CAACI,IAAI;EACnB;AACJ;AAEA,eAAezB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}